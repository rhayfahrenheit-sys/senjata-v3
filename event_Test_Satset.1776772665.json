{
	"type": "EVENT_BUTTON",
	"name": "Test Satset",
	"serverCode": "$clientid = str_replace(\" \", \"\", $params[\"Clientid\"]); \r\n$secretkey = str_replace(\" \", \"\", $params[\"Secretkey\"]); \r\n\r\n//echo $clientid.\" \".$secretkey;\r\n\r\n\r\nloadSecrets();\r\n$keyenc=RM;\r\n$authUrlSatset = SATSET_AUTH_URL;\r\n$baseUrlSatset = SATSET_BASE_URL;\r\n// $satset_client_id=msy_decrypt('satset_client_id',$keyenc);\r\n// $satset_client_secret=msy_decrypt('satset_client_secret',$keyenc);\r\n// $satset_org_id=msy_decrypt('satset_org_id',$keyenc);\r\n\r\n\r\n// $sp=DB::PrepareSQL(\"select \".$satset_client_id.\",\".$satset_client_secret.\",\".$satset_org_id. \" from puskesmas where pusk_id=:1\",$_SESSION[\"puskesmas\"]);\r\n// $rs=DB::Query($sp);\r\n// while( $data = $rs->fetchAssoc() )\r\n// {\r\n// $satset_client_id = $data[\"satset_client_id\"];\r\n// $satset_client_secret = $data[\"satset_client_secret\"];\r\n// $satset_org_id = $data[\"satset_org_id\"];\r\n// }\r\n//$satset_client_id = $params[\"Clientid\"];\r\n//$satset_client_secret = $params[\"Secretkey\"];\r\n\r\n// Setup parameter\r\n$baseUrl = 'https://api-satusehat.kemkes.go.id';\r\n$clientId = $params[\"Clientid\"];\r\n$clientSecret = $params[\"Secretkey\"];\r\n\r\n// // Panggil fungsi\r\n// $result = getSatuSehatAccessToken($baseUrl, $clientId, $clientSecret);\r\n\r\n// // Tampilkan ke frontend\r\n// header('Content-Type: application/json');\r\n// echo json_encode($result);\r\n",
	"beforeJsCode": "var CClient= Runner.getControl(pageid, 'satset_client_id');\r\nparams[\"Clientid\"] = CClient.getValue();\r\nvar CSecret = Runner.getControl(pageid, 'satset_client_secret');\r\nparams[\"Secretkey\"] =  CSecret.getValue();\r\n//alert(\"Test\");\r\n\r\n//return false;",
	"afterJsCode": "// Put your code here.\n\nvar message = result[\"hasil\"]; \najax.setMessage(message);\n"
}