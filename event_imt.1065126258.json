{
	"type": "EVENT_FIELD",
	"name": "imt",
	"serverCode": "\n// Sample:\n$result[\"upper\"] = strtoupper( $params[\"value\"] );\n",
	"beforeJsCode": "function updateIMTAndStatus() {\r\n    var ctrlbbne = Runner.getControl(pageid, \"bbne\");\r\n    var ctrltbne = Runner.getControl(pageid, \"tbne\");\r\n    var ctrlIMT = Runner.getControl(pageid, \"imt\");\r\n    var ctrlStatus = Runner.getControl(pageid, \"arti_imt\");\r\n\r\n    var bbne = parseFloat(ctrlbbne.getValue());\r\n    var tbne = parseFloat(ctrltbne.getValue());\r\n\r\n    // Cek apakah nilai valid: angka, > 0, dan bukan NaN\r\n    var isValidbbne = !isNaN(bbne) && bbne > 0;\r\n    var isValidtbne = !isNaN(tbne) && tbne > 0;\r\n\r\n    if (isValidbbne && isValidtbne) {\r\n        var tbneMeter = tbne / 100;\r\n        var imt = bbne / (tbneMeter * tbneMeter);\r\n        var imtRounded = parseFloat(imt.toFixed(2));\r\n\r\n        // Set IMT\r\n        ctrlIMT.setValue(imtRounded);\r\n\r\n        // Tentukan status IMT (standar WHO)\r\n        var status = \"\";\r\n        if (imtRounded < 18.5) {\r\n            status = \"Kurus\";\r\n        } else if (imtRounded <= 24.9) {\r\n            status = \"Normal\";\r\n        } else if (imtRounded <= 29.9) {\r\n            status = \"Gemuk\";\r\n        } else {\r\n            status = \"Obesitas\";\r\n        }\r\n\r\n        ctrlStatus.setValue(status);\r\n    } else {\r\n        // Kosongkan jika data tidak lengkap atau tidak valid\r\n        ctrlIMT.setValue(\"\");\r\n        ctrlStatus.setValue(\"\");\r\n    }\r\n}\r\n\r\n// Ambil kontrol\r\nvar ctrlbbne = Runner.getControl(pageid, \"bbne\");\r\nvar ctrltbne = Runner.getControl(pageid, \"tbne\");\r\n\r\n// Jalankan saat halaman dimuat (misalnya saat edit data lama)\r\nupdateIMTAndStatus();\r\n\r\n// Pasang event saat nilai berubah\r\nctrlbbne.on('change', updateIMTAndStatus);\r\nctrltbne.on('change', updateIMTAndStatus);\r\nreturn false;",
	"afterJsCode": "\n\n// Sample:\nctrl.setValue( result[\"upper\"] );\n"
}